@page "{id:int}"
@model Pinball.Web.Pages.Admin.Tables.PublishModel
@{
    ViewData["Title"] = "Publish";
}

<h2>Publish Catalog</h2>

<form method="post" class="panel panel-default">
    <div class="panel-body">
        <p>You're about to publish a new table catalog. Here are the newest tables in this catalog:</p>
    </div>
    <table class="table table-condensed">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(m => m.PinballTables[0].Name)</th>
                <th>@Html.DisplayNameFor(m => m.PinballTables[0].ReleaseDate)</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var table in Model.PinballTables)
            {
                <tr>
                    <td>@Html.DisplayFor(m => table.Name)</td>
                    <td>@Html.DisplayFor(m => table.ReleaseDate)</td>
                </tr>
            }
        </tbody>
    </table>
    <div class="panel-body">
        <p>Click below to publish this table catalog and broadcast it to all clients. Previously published catalogs will no longer be available for clients to download, however they will still be marked as published.</p>
    </div>
    <div class="panel-footer">
        <input type="submit" value="Publish This Catalog" class="btn btn-primary btn-lg" />
        <a asp-page="./Catalog" asp-route-id="@Model.Catalog.ID" class="btn btn-default">Cancel</a>
    </div>
</form>